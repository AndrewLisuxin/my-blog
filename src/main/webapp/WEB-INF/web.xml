<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	     xmlns="http://java.sun.com/xml/ns/javaee" 
	     xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd" 
	     version="3.0">
  <display-name>my-blog</display-name>
  <filter>
  	<filter-name>CharacterSetFilter</filter-name>
  	<filter-class>com.suxinli.filter.CharacterSetFilter</filter-class>
  </filter>
  <filter>
  	<filter-name>AutoLoginFilter</filter-name>
  	<filter-class>com.suxinli.filter.AutoLoginFilter</filter-class>
  </filter>
  <filter>
  	<filter-name>AdminFilter</filter-name>
  	<filter-class>com.suxinli.filter.AdminFilter</filter-class>
  </filter>
  <filter>
  	<filter-name>RequestLoggingFilter</filter-name>
  	<filter-class>com.suxinli.filter.RequestLoggingFilter</filter-class>
  </filter>
  
  <filter>
  	<filter-name>IncrementArticleViewFilter</filter-name>
  	<filter-class>com.suxinli.filter.IncrementArticleViewFilter</filter-class>
  </filter>
  
  <filter-mapping>
  	<filter-name>CharacterSetFilter</filter-name>
  	<url-pattern>/*</url-pattern>
  </filter-mapping>
  <filter-mapping>
  	<filter-name>AutoLoginFilter</filter-name>
  	<url-pattern>/*</url-pattern>
  </filter-mapping>
<!--  
  <filter-mapping>
  	<filter-name>AdminFilter</filter-name>
  	<url-pattern>/blog/newArticle.jsp</url-pattern>
  </filter-mapping>
  <filter-mapping>
  	<filter-name>AdminFilter</filter-name>
  	<url-pattern>/blog/updateArticle.jsp</url-pattern>
  </filter-mapping>
-->
  <filter-mapping>
  	<filter-name>AdminFilter</filter-name>
  	<servlet-name>CreateArticleServlet</servlet-name>
  </filter-mapping>
  <filter-mapping>
  	<filter-name>AdminFilter</filter-name>
  	<servlet-name>DeleteArticleServlet</servlet-name>
  </filter-mapping>
  <filter-mapping>
  	<filter-name>AdminFilter</filter-name>
  	<servlet-name>UpdateArticleServlet</servlet-name>
  </filter-mapping>
  <filter-mapping>
  	<filter-name>RequestLoggingFilter</filter-name>
  	<servlet-name>CreateCommentServlet</servlet-name>
  </filter-mapping>
  <filter-mapping>
  	<filter-name>RequestLoggingFilter</filter-name>
  	<servlet-name>DeleteCommentServlet</servlet-name>
  </filter-mapping>
  <filter-mapping>
  	<filter-name>RequestLoggingFilter</filter-name>
  	<servlet-name>LogoutServlet</servlet-name>
  </filter-mapping>
  <filter-mapping>
  	<filter-name>RequestLoggingFilter</filter-name>
  	<servlet-name>UpdateUserServlet</servlet-name>
  </filter-mapping>
  <filter-mapping>
  	<filter-name>RequestLoggingFilter</filter-name>
  	<servlet-name>LikeArticleServlet</servlet-name>
  </filter-mapping>
  
  <filter-mapping>
  	<filter-name>IncrementArticleViewFilter</filter-name>
  	<servlet-name>ViewArticleServlet</servlet-name>
  </filter-mapping>
  
  <listener>
  	<listener-class>com.suxinli.listener.ConfigurationListener</listener-class>
  </listener>
  
  <servlet>
  	<servlet-name>SignUpServlet</servlet-name>
  	<servlet-class>com.suxinli.servlet.SignUpServlet</servlet-class>
  </servlet>
  <servlet>
  	<servlet-name>LoginServlet</servlet-name>
  	<servlet-class>com.suxinli.servlet.LoginServlet</servlet-class>
  </servlet>
  <servlet>
  	<servlet-name>LogoutServlet</servlet-name>
  	<servlet-class>com.suxinli.servlet.LogoutServlet</servlet-class>
  </servlet>
  <servlet>
  	<servlet-name>ViewArticleServlet</servlet-name>
  	<servlet-class>com.suxinli.servlet.ViewArticleServlet</servlet-class>
  </servlet>
  <servlet>
  	<servlet-name>DeleteArticleServlet</servlet-name>
  	<servlet-class>com.suxinli.servlet.DeleteArticleServlet</servlet-class>
  </servlet>
  <servlet>
  	<servlet-name>UpdateArticleServlet</servlet-name>
  	<servlet-class>com.suxinli.servlet.UpdateArticleServlet</servlet-class>
  </servlet>
  <servlet>
  	<servlet-name>CreateArticleServlet</servlet-name>
  	<servlet-class>com.suxinli.servlet.CreateArticleServlet</servlet-class>
  </servlet>
  <servlet>
  	<servlet-name>CreateCommentServlet</servlet-name>
  	<servlet-class>com.suxinli.servlet.CreateCommentServlet</servlet-class>
  </servlet>
  <servlet>
  	<servlet-name>DeleteCommentServlet</servlet-name>
  	<servlet-class>com.suxinli.servlet.DeleteCommentServlet</servlet-class>
  </servlet>
  <servlet>
  	<servlet-name>ProfileServlet</servlet-name>
  	<servlet-class>com.suxinli.servlet.ProfileServlet</servlet-class>
  </servlet>
  <servlet>
  	<servlet-name>UpdateUserServlet</servlet-name>
  	<servlet-class>com.suxinli.servlet.UpdateUserServlet</servlet-class>
  </servlet>
  <servlet>
  	<servlet-name>LikeArticleServlet</servlet-name>
  	<servlet-class>com.suxinli.servlet.LikeArticleServlet</servlet-class>
  </servlet>
  <servlet-mapping>
  	<servlet-name>SignUpServlet</servlet-name>
  	<url-pattern>/SignUp</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
  	<servlet-name>LoginServlet</servlet-name>
  	<url-pattern>/Login</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
  	<servlet-name>LogoutServlet</servlet-name>
  	<url-pattern>/Logout</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
  	<servlet-name>ViewArticleServlet</servlet-name>
  	<url-pattern>/ViewArticle</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
  	<servlet-name>DeleteArticleServlet</servlet-name>
  	<url-pattern>/DeleteArticle</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
  	<servlet-name>UpdateArticleServlet</servlet-name>
  	<url-pattern>/UpdateArticle</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
  	<servlet-name>CreateArticleServlet</servlet-name>
  	<url-pattern>/CreateArticle</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
  	<servlet-name>CreateCommentServlet</servlet-name>
  	<url-pattern>/CreateComment</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
  	<servlet-name>DeleteCommentServlet</servlet-name>
  	<url-pattern>/DeleteComment</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
  	<servlet-name>ProfileServlet</servlet-name>
  	<url-pattern>/Profile</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
  	<servlet-name>UpdateUserServlet</servlet-name>
  	<url-pattern>/UpdateUser</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
  	<servlet-name>LikeArticleServlet</servlet-name>
  	<url-pattern>/LikeArticle</url-pattern>
  </servlet-mapping>
  
  <session-config>
  	<session-timeout>30</session-timeout>
  </session-config>
  
  <welcome-file-list>
  	<welcome-file>
  		index.jsp
  	</welcome-file>
  </welcome-file-list>
  
<error-page>
  	<error-code>404</error-code>
  	<location>/WEB-INF/error/error.jsp</location>
  </error-page>
  
  <error-page>
  	<exception-type>java.lang.Exception</exception-type>
  	<location>/WEB-INF/error/error.jsp</location>
  </error-page>

  <jsp-config>
  	<taglib>
  		<taglib-uri>http://suxinli.com/jsp/tlds/mytags</taglib-uri>
  		<taglib-location>/WEB-INF/timeformatter.tld</taglib-location>
  	</taglib>
  </jsp-config>
</web-app>
